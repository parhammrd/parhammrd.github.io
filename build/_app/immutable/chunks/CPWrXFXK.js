import{a8 as m,Y as T,a9 as C,F as D,aa as x,ab as F,ac as P,I as W,a4 as H,i as B,ad as $,m as w,ae as M,af as R,N as g,M as N,o as _,a5 as V,ag as k,ah as L,J,ai as z,aj as G,ak as K,al as Q,am as U,an as X,j as Z,q as ee,s as te,c as ae}from"./CN_hGK4R.js";import{b as re}from"./D1QeUVQv.js";const ne=["touchstart","touchmove"];function ie(t){return ne.includes(t)}function se(t){var e=C,r=D;m(null),T(null);try{return t()}finally{m(e),T(r)}}const oe=new Set,O=new Set;function ue(t,e,r,i={}){function s(a){if(i.capture||b.call(e,a),!a.cancelBubble)return se(()=>r?.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?F(()=>{e.addEventListener(t,s,i)}):e.addEventListener(t,s,i),s}function _e(t,e,r,i,s){var a={capture:i,passive:s},l=ue(t,e,r,a);(e===document.body||e===window||e===document)&&x(()=>{e.removeEventListener(t,l,a)})}function b(t){var e=this,r=e.ownerDocument,i=t.type,s=t.composedPath?.()||[],a=s[0]||t.target,l=0,h=t.__root;if(h){var f=s.indexOf(h);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var v=s.indexOf(e);if(v===-1)return;f<=v&&(l=f)}if(a=s[l]||t.target,a!==e){P(t,"currentTarget",{configurable:!0,get(){return a||r}});var S=C,d=D;m(null),T(null);try{for(var n,o=[];a!==null;){var y=a.assignedSlot||a.parentNode||a.host||null;try{var c=a["__"+i];if(c!==void 0&&!a.disabled)if(W(c)){var[j,...q]=c;j.apply(a,[t,...q])}else c.call(a,t)}catch(E){n?o.push(E):n=E}if(t.cancelBubble||y===e||y===null)break;a=y}if(n){for(let E of o)queueMicrotask(()=>{throw E});throw n}}finally{t.__root=e,delete t.currentTarget,m(S),T(d)}}}let u;function le(){u=void 0}function he(t){let e=null,r=w;var i;if(w){for(e=_,u===void 0&&(u=V(document.head));u!==null&&(u.nodeType!==8||u.data!==M);)u=R(u);u===null?g(!1):u=N(R(u))}w||(i=document.head.appendChild(H()));try{B(()=>t(i),$)}finally{r&&(g(!0),u=_,N(e))}}let I=!0;function ve(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r==null?"":r+"")}function de(t,e){return Y(t,e)}function ye(t,e){k(),e.intro=e.intro??!1;const r=e.target,i=w,s=_;try{for(var a=V(r);a&&(a.nodeType!==8||a.data!==M);)a=R(a);if(!a)throw L;g(!0),N(a),J();const l=Y(t,{...e,anchor:a});if(_===null||_.nodeType!==8||_.data!==z)throw G(),L;return g(!1),l}catch(l){if(l===L)return e.recover===!1&&K(),k(),Q(r),g(!1),de(t,e);throw l}finally{g(i),N(s),le()}}const p=new Map;function Y(t,{target:e,anchor:r,props:i={},events:s,context:a,intro:l=!0}){k();var h=new Set,f=d=>{for(var n=0;n<d.length;n++){var o=d[n];if(!h.has(o)){h.add(o);var y=ie(o);e.addEventListener(o,b,{passive:y});var c=p.get(o);c===void 0?(document.addEventListener(o,b,{passive:y}),p.set(o,1)):p.set(o,c+1)}}};f(U(oe)),O.add(f);var v=void 0,S=X(()=>{var d=r??e.appendChild(H());return Z(()=>{if(a){ee({});var n=ae;n.c=a}s&&(i.$$events=s),w&&re(d,null),I=l,v=t(d,i)||{},I=!0,w&&(D.nodes_end=_),a&&te()}),()=>{for(var n of h){e.removeEventListener(n,b);var o=p.get(n);--o===0?(document.removeEventListener(n,b),p.delete(n)):p.set(n,o)}O.delete(f),d!==r&&d.parentNode?.removeChild(d)}});return A.set(v,S),v}let A=new WeakMap;function pe(t,e){const r=A.get(t);return r?(A.delete(t),r(e)):Promise.resolve()}export{I as a,he as b,_e as e,ye as h,de as m,ve as s,pe as u};
